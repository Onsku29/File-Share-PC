<?xml version="1.0" encoding="utf-8"?>
<winuiex:WindowEx x:ConnectionId='1'  
   xmlns:winuiex="using:WinUIEx"  
   x:Class="File_Share.MainWindow"  
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"  
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
   xmlns:local="using:File_Share"
   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"  
   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
   xmlns:tb="using:H.NotifyIcon"
   mc:Ignorable="d"  
                               
   Title="File Share">

    <Grid>
        <tb:TaskbarIcon x:ConnectionId='2'
        x:Name="TrayIcon"
        x:FieldModifier="public"
        ContextMenuMode="SecondWindow"
                                                         
        NoLeftClickDelay="True"
        ToolTipText="ToolTip"
        >
            <tb:TaskbarIcon.ContextFlyout>
                <MenuFlyout AreOpenCloseAnimationsEnabled="False">
                    <MenuFlyoutItem x:ConnectionId='9'
                                                            
                    Text="Show/Hide Window"
                    />
                    <MenuFlyoutSeparator />
                    <MenuFlyoutItem x:ConnectionId='10'
                                                             
                    Text="Exit"
                    />
                </MenuFlyout>
            </tb:TaskbarIcon.ContextFlyout>
        </tb:TaskbarIcon>
        <StackPanel Orientation="Vertical" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="32">  
            <TextBlock FontSize="48">  
                <Bold>Devices:</Bold>  
            </TextBlock>
            <ListView x:ConnectionId='7' x:Name="DeviceList" Margin="0, 32, 0, 0">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock FontSize="24" Text="{Binding}"/>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>  

       <Button x:ConnectionId='3' x:Name="addDevice"                         Content="Add New Device" Background="{ThemeResource AccentFillColorDefaultBrush}" FontSize="24" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="32"/>  

       <Border x:ConnectionId='4' x:Name="Overlay" Background="#80000000" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Visibility="Collapsed" Opacity="0">  
            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="32" Background="LightGray" CornerRadius="16">
                <TextBlock FontSize="32" Foreground="Black" HorizontalAlignment="Center" TextWrapping="WrapWholeWords" MaxWidth="512">  
                    Scan this QR code in the mobile app. Make sure both your phone and computer are connected to the same local network.
                </TextBlock>
                <Border CornerRadius="16" Margin="0, 32, 0, 0" Width="512" Height="512">
                    <Grid>
                        <Image x:ConnectionId='5' x:Name="QRCodeImage" Stretch="Uniform" Width="512" Height="512"/>
                        <ProgressRing x:ConnectionId='6' x:Name="LoadingRing" Width="128" Height="128" HorizontalAlignment="Center" VerticalAlignment="Center" IsActive="False" Visibility="Collapsed" Foreground="Black"/>
                    </Grid>
                </Border>
            </StackPanel>  
       </Border>  
   </Grid>  
</winuiex:WindowEx>

